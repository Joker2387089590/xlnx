/dts-v1/;
#include <dt-bindings/gpio/gpio.h>
#include "zynq-7000.dtsi"
#include "pcw.dtsi"

/ {
    model = "Joker ZYNQ SPI Project";
    compatible = "xlnx,zynq-7000";

    chosen {
        bootargs = "console=ttyPS0,115200 root=/dev/mmcblk0p2 rootwait rw rootfstype=ext4";
        stdout-path = "serial0:115200n8";
    };

    aliases {
		eth0    = &gem0;
		serial0 = &uart0;
		flash   = &qspi;
		spi0    = &spi0;
		gpio0   = &gpio0;
    };

    memory {
		device_type = "memory";
		reg = <0x0 0x40000000>;
	};

    leds {
        compatible = "gpio-leds";

        ps-led {
            label = "ps-led";
            gpios = <&gpio0 0 GPIO_ACTIVE_HIGH>;
            default-state = "on";
        };

        ps-led0 {
            label = "0-ps-led";
            gpios = <&gpio0 7 GPIO_ACTIVE_HIGH>;
            default-state = "on";
        };

        ps-led1 {
            label = "1-ps-led";
            gpios = <&gpio0 8 GPIO_ACTIVE_HIGH>;
            default-state = "on";
        };
    };

    keys {
        compatible = "gpio-keys";
        autorepeat;

        ps-key0 {
			label = "0-ps-key";
			gpios = <&gpio0 12 GPIO_ACTIVE_LOW>;
			linux,code = <103>; // Up
			debounce-interval = <20>;
		};

		ps-key1 {
			label = "1-ps-key0";
			gpios = <&gpio0 11 GPIO_ACTIVE_LOW>;
			linux,code = <108>; // Down
			debounce-interval = <20>;
		};
    };
};

&spi0 {
    display@0 {
        compatible = "spi-display";
        reg = <0>;
    };
};
